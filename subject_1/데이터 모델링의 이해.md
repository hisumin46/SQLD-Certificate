## 1-1. 데이터 모델링의 이해

### 모델링
#### 데이터 모델 특징

- 추상화: 현실세계의 객체들을 일정한 표현법을 가지고 간략히 표현
- 단순화: 누구나 쉽게 이해할 수 있도록 표현
- 명확성: 명확한 의미로 해석되어야되며 한가지의 의미로 표현

#### 데이터 모델링의 중요성 및 유의점

- 중복: 중복 없
- 비유연성: 데이터정의와 프로세스를 분리해서 데이터베이스 변화를 줄임
- 비일관성: 데이터간 상호연관 관계를 명확하게 정의하며 데이터 중복이 없더라도 비일관성은 발생할 수 있음

#### 데이터 모델링 3요소

- 어떤것 `entity`
- 속성 `attribute`
- 관계 `relationship`

#### 데이터 모델링

- 개념적 모델링
  - 전사적 관점
  - 추상화 수준이 가장 높음
- 논리적 모델링
  - 특정 데이터베이스에 종속
  - 정규화를 통한 재사용
  - 식별자 관계 정의, 관계, 속성 등 표현
- 물리적 모델링
  - DBMS에 테이블, 인덱스 생성하는 단계

#### 데이터 모델링 관점

- 데이터 관점: 구조분석, 정적 분석
- 프로세스 관점: 시나리오분석, 도메인 분석, 동적분석
- 데이터와 프로세스: 프롯스와 데이터 간의 관계

#### 모델링

- 데이터 모델링의 중요성: 파급효과, 복잡한 정보 유구사항의 간결표현, 데이터 품질
- 모델링 표기법: 1976년 피터첸이 `ERD(Entity Relationship Model)` 개발
- EDR 절차
  1. 엔티티 도출
  2. 엔티티 배치
  3. 관계 설정
  4. 관계 명명
  5. 관계 참여도(관계차수) 표현
  6. 관계 필수여 표현
- ERD 작성시 유의점
  - 중요한 엔티티는 상위 → 하위 / 오른쪽 → 왼쪽

#### 데이터 독립성
- 논리적 독립성: 논리적 구조가 바뀌어도 프로그램에 영향이 없어야됨 즉, 개념스크마 변경 → 외부스키마 영향 X
- 물리적 독립성: 저장장치의 구조가 변경되어도 프로그램과 개념스키마에 형향 X 즉, 내부스키마 변경 → 외부/개념 스키마 영향 X
- Mapping: 독립적인 개념을 연결해주는 다리

#### 스키마 3주조

- 외부스키마
  - 사용자 관점, 업무상 관련이 있는 데이터
  - DB의 뷰표시
  - 응용 프로그램이 절급하는 DB를 정의
- 개념 스키마
  - 설계자 관점으로 사용자 전체 DB 구조
  - 전체 DB의 **통합** 구조와 규칙 표현
- 내부 스키마
  - 개발자 관점으로 DB의 물리적 저장구조
  - 인덱스, 레코드구조, 필드 정의 등

#### 좋은 데이터 모델의 요소

- 완전성: 모든 데이터가 모델에 정의
- 중복배제: 하나의 DB내 동일한 사실은 하나만
- 업무규칙: 규칙을 사용자가 공유하도록 제공
- 데이터 재사용: 데이터가 독립적으로 설계
- 의사소통: 엔티티, 속성, 관계 등으로 최대한 자세히표현
- 통합성: 동일한 데이터는 한번만 정의, 필요할 경우 참조를 활용

### 엔티티

#### 엔티티 특징

- 업무에 필요하고 유용한 정보를 저장하고 관리하기 위한 집합
- 보이지 않은 개념을 포함하며 개념, 사건, 장소 등의 명사
- 유일한 식별자가 있어야됨
- 2개이상의 인스턴스가 있어야됨(1개면 엔티티충족 X)
- 반드시 1개 이상의 속성을 가짐
- 다른 엔티티와 최소 1개 이상의 관계를 가짐(통계성, 코드성 엔티티 생략 가능)
- 업무에서 관리되어야되는 집합
- 이름 부여시 주의사항
  - 업무에서 사용하는 용어 사용
  - 약어 금지
  - 단수명사 사용
  - 고유명사 사용
  - 생성의미대로 부여
  
#### 엔티티 분류 - 유/무형에 따른

- 유형엔티티
  - 업무에서 도출, 안정적 사용, 지속적 사용, **물리적형태**
  - 사원, 물품, 강사 등
- 개념 엔티티
  - 개념적 정보, 물리적 형태 X
  - 보험 상품
- 사건 엔티티
  - 비즈니스 프로세스를 실행하면서 생성되는 엔티티로 통계자료같은 것
  - 주문, 청구

#### 엔티티 분류 - 발생시점에 따른

- 기본(키) 엔티티
  - 다른 엔티티로부터 영향받지 않음
  - 독립적으로 생성
  - 고객, 상품, 부서 등
- 중심 엔티티
  - 기본엔티티와 행위엔티티 중간
  - 기본엔티티로 발생되고 행위엔티티로 생성됨
  - 계좌, 주문, 취소, 체결
- 행위 엔티티
  - 2개 이상의 엔티티로부터 발생
  - 자주 바뀌거나 양이 증가됨
  - 주문이력, 체결 이력, 사원의 부서변경 이력

### 속성

#### 속성의 특징

- 엔티티가 가지는 항목으로 의미적으로는 더 이상 분리되지 않은 단위를 말함
- 인스턴스의 구성요소
- 한개의 속성은 하나의 속성값만 가짐
- 주식별자에게 함수족으로 종속됨
- ❓ 기본키가 변경되면 속성의 값도 변경됨
- 도메인에 따라 범위를 지정할 수 있음
- 이름 부여 시 주의사항
  - 업무에서 사용하는 용어 사용
  - 서술식 금지
  - 약어 금지
  - 전체 데이터모델에서 유일성 확보

#### 속성의 종류

- 기본 속성
  - 업무로부터 추출한 모든 일반적인 속성
  - 회원 ID, 이름, 계좌번호, 주문일자
- 설계 속성
  - 데이터 모델링 과정에서 발생되는 속성
  - 상품코드, 지점코드
- 파생 속성
  - 다른 속성에 의해 만들어지는 속성
  - 합계, 평균

### 관계

#### 관계의 종류
- 존재관계(=연관관계)
  - 엔티티간 상태를 의미
  - 소속된다
- 행위관계(=의존관계)
  - 엔티티간 행위를 의미
  - 계좌를 사용해 주문을 발주함
- ERD는 존개와 행위를 구분하지 않으나
- UML에서는 구분함 연관(존재)는 실선으로 의존(행위)는 점선으로

#### 관계차수
- 두 엔티티간 관계에 참여하는 수
- 1:1
  - 완전 1:1 관계: 엔티티간의 관계가 하나 있는경우
  - 선택적 1:1 관계: 관계가 하나이거나 없을 수 있음
- 1:N
  - 엔티티 행이 하나 있을 때 다른 엔티티의 값이 여러 개있는 관계
- N:M
  - 두 엔티티가 서로 여러 개의 관계를 가지고 있는것
  - 관계형 DB에서 관계는 카테시안 곱(Cross Join) 발생
- 필수적 관계와 선택적 관계
  - 필수적 관계: 반드시 연결(고객이 있어야지만 계좌를 계설할 수 있음)
  - 선택적 관계: 없어도됨(고객은 있지만 계좌는 없을 수도 있음)

#### 관계 체크사항

- 2개 엔티티 사이에 **관심있는 연관 규칙**이 있는가?
- - 2개의 엔터티 **사이에 정보의 조합**이 발생하는가?
- 업무기술서, 장표에 관**계연결에 대한 규칙 서술**이 있는가?
- 업무기술서, 장표에 관계연결을 가능케하는 **동사**가 있는가?

### 식별자

- 엔티티 내에서 인스턴스를 구분하는 구분자
- **식별자 → 논리 데이터 모델링** 단계에서 사용
- **Key → 물리 데이터 모델링** 단계에서 사용
